# [SLASH22] 잃어버린 개발자의 시간을 찾아서 - 매일 하루를 아끼는 Frontend DevOps 이야기 2

## SSR 단점

SSR 아키텍쳐의 단점

- 빌드 배포 시간
- 모니터링 및 유지 보수비용
- 컴퓨팅 리소스

<br>

### 빌드, 배포 보완

서비스 빌드 시간을 짧게 가져가야한다

> 모노 레포 등 (번들 사이즈 축소) 혹은 yarn berry를 통한 zero install

<br>

### 레포 복제 최적화

모든 커밋에 대한 클론은 필요 없다<br>
&rarr; shallow clone(얕은 복제) <br>
&rarr; 최근 커밋까지만 복제
git clone shallow 옵션 사용
<br>
&rarr; 문제점 => 로그 유실<br>
&rarr;로그는 유지, 파일만 최신것을 받고싶다. git filter spec을 사용해 해당 기능 구현 가능<br>
&rarr;`blob:none`으로 클론하면 파일없이 로그만 받아옴. 이 후 배포하고자 하는 브랜치로 체크아웃시 빌드에 필요한 파일만 받아올 수 있음

**_zero install을 통한 클론 최적화 => 빌드 최적화_**

<br>

## 배포 최적화

도커는 이미지 레이어링 방식이다<br>
레이어는 각각 고유의 해시 값을 캐싱함<br>(같은 해시의 경우 캐시되어 재다운로드를 하지 않음)

> 공통 레이어 생성을 통해 배포 최적화 가능 (ci머신-> 도커 이미지 저장소 -> 쿠버네티스 클러스터)

# 액션아이템

- vercel node file trace
- yarn dedupe
- esbuild
- swc

=== 팀원 의견

문제에 집중해야한다.<br>문제가 무엇인지 파악하자 <br>(좋아보여도 이게 문제가 아닐수도있음. 우리의 경우엔 별로 효용이 없을것 같다)
